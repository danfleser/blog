{"pageProps":{"frontmatter":{"title":"These Common JavaScript Mistakes Reduce Performance Drastically","date":"2022-02-19T13:44:41.800Z","tags":["#javascript","#optimization"],"description":"JavaScript doesnâ€™t provide any memory management primitives. Instead, memory is managed by the JavaScript VM through a memory reclaim process. That process is known as Garbage Collection. Since we canâ€™t force it to run, how do we know it will work properly? What do we know about it? Script execution is paused during the process. It frees memory for unreachable resources. It is non-deterministic. It will not inspect the whole memory in one go but will run in multiple cycles. It is unpredictable. It will execute when necessary.","cover_image":"20220219134441-javascript-memory-mistakes.png","readingTime":2},"slug":"20220219134441-javascript-memory-mistakes","post":{"content":{"compiledSource":"var c=Object.defineProperty,m=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var p=(e,o,n)=>o in e?c(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,r=(e,o)=>{for(var n in o||(o={}))i.call(o,n)&&p(e,n,o[n]);if(a)for(var n of a(o))s.call(o,n)&&p(e,n,o[n]);return e},l=(e,o)=>m(e,d(o));var h=(e,o)=>{var n={};for(var t in e)i.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&a)for(var t of a(e))o.indexOf(t)<0&&s.call(e,t)&&(n[t]=e[t]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var t=n,{components:e}=t,o=h(t,[\"components\"]);return mdx(MDXLayout,l(r(r({},layoutProps),o),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"How can we prevent our web app from leaking memory? We have to avoid the retention of unnecessary resources. Let\\u2019s look at the most common scenarios where this might happen.\"),mdx(\"h1\",null,\"Timer Listeners\"),mdx(\"p\",null,\"Let\\u2019s look at the \",mdx(\"inlineCode\",{parentName:\"p\"},\"setInterval\"),\" timer. It is a commonly used Web API feature.\"),mdx(\"p\",null,\"The return of \",mdx(\"inlineCode\",{parentName:\"p\"},\"setInterval\"),\" is an interval ID which we can use to cancel the interval. We can call \",mdx(\"inlineCode\",{parentName:\"p\"},\"clearInterval\"),\" once the Component unmounts.\"),mdx(\"h1\",null,\"Event Listeners\"),mdx(\"p\",null,\"When using \",mdx(\"inlineCode\",{parentName:\"p\"},\"addEventListener\"),\", we need to use \",mdx(\"inlineCode\",{parentName:\"p\"},\"removeEventListener\"),\" to remove it.\"),mdx(\"h1\",null,\"Observers\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u201CThe Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document\\u2019s \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://developer.mozilla.org/en-US/docs/Glossary/Viewport\"}),\"viewport\"),\".\\u201D \\u2014 \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver\"}),\"MDN Web Docs\"))),mdx(\"p\",null,\"Once you are done observing the object, you need to cancel out the monitor process.\"),mdx(\"h1\",null,\"Holding DOM References\"),mdx(\"p\",null,\"DOM nodes are not free from memory leaks either. You need to be careful not to hold references of them.\"),mdx(\"h1\",null,\"Conclusion\"),mdx(\"p\",null,\"It is recommended to periodically run the browser profiler tools on your web application. That is the only way to be sure that nothing is leaking and left behind. The Chrome Developer \",mdx(\"inlineCode\",{parentName:\"p\"},\"performance\"),\" tab is the place to start detecting some anomalies. After you have spotted an issue, you can dig deeper into it with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"profiler\"),\" tab by taking snapshots and comparing them.\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},\" Don\\u2019t forget to clap \\u{1F44F} in the comment section below if you learned something new\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"previousPost":{"slug":"20220219132839-copy-paste-javascript-snippets","frontmatter":{"title":"ðŸ”¥Handy Copy-Paste Javascript Snippets Part 1","date":"2022-02-19T13:28:39.882Z","tags":["#javascript"],"description":"A list of useful code snippets for lazy developers.","cover_image":"20220219132839-copy-paste-javascript-snippets.png","readingTime":3},"content":{"compiledSource":"var d=Object.defineProperty,m=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var s=(a,t,o)=>t in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,e=(a,t)=>{for(var o in t||(t={}))p.call(t,o)&&s(a,o,t[o]);if(r)for(var o of r(t))i.call(t,o)&&s(a,o,t[o]);return a},l=(a,t)=>m(a,g(t));var c=(a,t)=>{var o={};for(var n in a)p.call(a,n)&&t.indexOf(n)<0&&(o[n]=a[n]);if(a!=null&&r)for(var n of r(a))t.indexOf(n)<0&&i.call(a,n)&&(o[n]=a[n]);return o};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var n=o,{components:a}=n,t=c(n,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"\\u{1F449} Part 2 -> \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://danfleser.com/posts/20220220202431-copy-paste-javascript-snippets-2\"}),\"\\u{1F525}Handy Copy-Paste Javascript Snippets Part 2\"),`\n\\u{1F449} Part 3 -> `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://danfleser.com/posts/20220220202610-copy-paste-javascript-snippets-3\"}),\"\\u{1F525}Handy Copy-Paste Javascript Snippets Part 3\")),mdx(\"h1\",null,\"Shuffle an Array\"),mdx(\"p\",null,\"Shuffling an array is super easy with \",mdx(\"inlineCode\",{parentName:\"p\"},\"sort\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"random\"),\" methods.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const shuffleArray = (arr) => arr.sort(() => 0.5 - Math.random());\nconsole.log(shuffleArray([1, 2, 3, 4]));\n// Result: [ 1, 4, 3, 2 ]\n`)),mdx(\"h1\",null,\"Check if Date is Valid\"),mdx(\"p\",null,\"Use the following snippet to check if a given date is valid or not.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const isDateValid = (...val) => !Number.isNaN(new Date(...val).valueOf());\nisDateValid(\"December 17, 1995 03:24:00\");\n// Result: true\n`)),mdx(\"h1\",null,\"Copy to Clipboard\"),mdx(\"p\",null,\"Easily copy any text to clipboard using \",mdx(\"inlineCode\",{parentName:\"p\"},\"navigator.clipboard.writeText\"),\".\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const copyToClipboard = (text) => navigator.clipboard.writeText(text);\ncopyToClipboard(\"Hello World\");\n`)),mdx(\"h1\",null,\"Find the day of the year\"),mdx(\"p\",null,\"Find which is the day by a given date.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const dayOfYear = (date) =>\n  Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);\ndayOfYear(new Date());\n// Result: 272\n`)),mdx(\"h1\",null,\"Capitalize a String\"),mdx(\"p\",null,\"Javascript doesn\\u2019t have an inbuilt capitalize function, so we can use the following code for this purpose.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)capitalize(\"follow for more\")\n// Result: Follow for more\n`)),mdx(\"h1\",null,\"Find the number of days between two days\"),mdx(\"p\",null,\"Find the days between 2 given days using the following snippet.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const dayDif = (date1, date2) => Math.ceil(Math.abs(date1.getTime() - date2.getTime()) / 86400000)dayDif(new Date(\"2020-10-21\"), new Date(\"2021-10-22\"))\n// Result: 366\n`)),mdx(\"h1\",null,\"Clear All Cookies\"),mdx(\"p\",null,\"You can easily clear all cookies stored on a web page by accessing the cookie using \",mdx(\"inlineCode\",{parentName:\"p\"},\"document.cookie\"),\" and clearing it.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),\"const clearCookies = document.cookie.split(';').forEach(cookie => document.cookie = cookie.replace(/^ +/, '').replace(/=.\\\\*/, \\\\`=;expires=${new Date(0).toUTCString()};path=/\\\\`));\\n\")),mdx(\"h1\",null,\"Generate Random Hex\"),mdx(\"p\",null,\"You can generate random hex colors with \",mdx(\"inlineCode\",{parentName:\"p\"},\"Math.random\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"padEnd\"),\" properties.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),'const randomHex = () => \\\\`#${Math.floor(Math.random() \\\\* 0xffffff).toString(16).padEnd(6, \"0\")}\\\\`;console.log(randomHex());\\n// Result: #92b008\\n')),mdx(\"h1\",null,\"Remove Duplicated from Array\"),mdx(\"p\",null,\"You can easily remove duplicates with \",mdx(\"inlineCode\",{parentName:\"p\"},\"Set\"),\" in JavaScript. It's a lifesaver.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const removeDuplicates = (arr) => [...new Set(arr)];\nconsole.log(removeDuplicates([1, 2, 3, 3, 4, 4, 5, 5, 6]));\n// Result: [ 1, 2, 3, 4, 5, 6 ]\n`)),mdx(\"h1\",null,\"Get Query Params from URL\"),mdx(\"p\",null,\"You can easily retrieve query params from a URL either bypassing \",mdx(\"inlineCode\",{parentName:\"p\"},\"window.location\"),\" or the raw URL \",mdx(\"inlineCode\",{parentName:\"p\"},\"goole.com?search=easy&page=3\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const getParameters = (URL) => {\n  URL = JSON.parse(\n    '{\"' +\n      decodeURI(URL.split(\"?\")[1])\n        .replace(/\"/g, '\\\\\\\\\\\\\\\\\"')\n        .replace(/&/g, '\",\"')\n        .replace(/=/g, '\":\"') +\n      '\"}'\n  );\n  return JSON.stringify(URL);\n};\ngetParameters(window.location);\n// Result: { search : \"easy\", page : 3 }\n`)),mdx(\"h1\",null,\"Log Time from Date\"),mdx(\"p\",null,\"We can log time, in the format \",mdx(\"inlineCode\",{parentName:\"p\"},\"hour::minutes::seconds\"),\" from a given date.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const timeFromDate = (date) => date.toTimeString().slice(0, 8);\nconsole.log(timeFromDate(new Date(2021, 0, 10, 17, 30, 0)));\n// Result: \"17:30:00\"\n`)),mdx(\"h1\",null,\"Check if a number is even or odd\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const isEven = (num) => num % 2 === 0;\nconsole.log(isEven(2));\n// Result: True\n`)),mdx(\"h1\",null,\"Find Average of Numbers\"),mdx(\"p\",null,\"Find the average between multiple numbers using \",mdx(\"inlineCode\",{parentName:\"p\"},\"reduce\"),\"method.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const average = (...args) => args.reduce((a, b) => a + b) / args.length;\naverage(1, 2, 3, 4);\n// Result: 2.5\n`)),mdx(\"h1\",null,\"Check if the array is empty\"),mdx(\"p\",null,\"A simple one-liner to check if an array is empty, will return \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\"or \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const isNotEmpty = (arr) => Array.isArray(arr) && arr.length > 0;\nisNotEmpty([1, 2, 3]);\n// Result: true\n`)),mdx(\"h1\",null,\"Get Selected Text\"),mdx(\"p\",null,\"Get the text the user has selected using inbuilt \",mdx(\"inlineCode\",{parentName:\"p\"},\"getSelection\"),\"property.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),`const getSelectedText = () => window.getSelection().toString();\ngetSelectedText();\n`)),mdx(\"h1\",null,\"Conclusion\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},\" Don\\u2019t forget to clap \\u{1F44F} in the comment section below if you learned something new\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"nextPost":{"slug":"20220219140317-modern-javascript-features","frontmatter":{"title":"Most Developers Lack These Useful JavaScript Features","date":"2022-02-19T14:03:17.293Z","tags":["#javascript"],"description":"Write less and do more with JavaScript. With JavaScript, you can do one thing in many different ways. Also, JavaScript is evolving with the release of every new ECMAScript specification, adding new useful methods and operators to make the code shorter, and somewhere more readable.","cover_image":"20220219140317-modern-javascript-features.png","readingTime":3},"content":{"compiledSource":"var d=Object.defineProperty,u=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var s=(e,n,a)=>n in e?d(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,o=(e,n)=>{for(var a in n||(n={}))i.call(n,a)&&s(e,a,n[a]);if(r)for(var a of r(n))l.call(n,a)&&s(e,a,n[a]);return e},p=(e,n)=>u(e,h(n));var c=(e,n)=>{var a={};for(var t in e)i.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&r)for(var t of r(e))n.indexOf(t)<0&&l.call(e,t)&&(a[t]=e[t]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var t=a,{components:e}=t,n=c(t,[\"components\"]);return mdx(MDXLayout,p(o(o({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",null,\"1. Object.entries\"),mdx(\"p\",null,\"Most developers use \",mdx(\"inlineCode\",{parentName:\"p\"},\"Object.keys\"),\" method to iterate over an object. This method only returns an array of the object keys, not values. We can use \",mdx(\"inlineCode\",{parentName:\"p\"},\"Object.entries\"),\" to get both key and value.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const person = {\n  name: \"John\",\n  age: 20,\n};\nObject.keys(person); // ['name', 'age']\nObject.entries(data); // [['name', 'John'], ['age', 20]]\n`)),mdx(\"p\",null,\"And to iterate over an object we can do the following:\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`Object.keys(person).forEach((key) => {\n  console.log(\\`\\${key} is \\${person[key]}\\`);\n});\n// using entries to get key and value both\nObject.entries(person).forEach(([key, value]) => {\n  console.log(\\`\\${key} is \\${value}\\`);\n});\n// expected output:\n// name is John\n// age is 20\n`)),mdx(\"p\",null,\"Both approaches above return the same result but Object.entries makes it easy to get key-value pair.\"),mdx(\"h1\",null,\"2. String replaceAll Method\"),mdx(\"p\",null,\"In JavaScript, to replace all occurrences of a string with another string, we need to use a Regular Expression like the following:\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const str = \"Red-Green-Blue\";\n// replaces the first occurrence only\nstr.replace(\"-\", \" \"); // Red Green-Blue\n// use RegEx to replace all occurrences\nstr.replace(/-/g, \" \"); // Red Green Blue\n`)),mdx(\"p\",null,\"But in ES12, a new method is added to \",mdx(\"inlineCode\",{parentName:\"p\"},\"String.prototype\"),\" named \",mdx(\"inlineCode\",{parentName:\"p\"},\"replaceAll\"),\" which replaces all occurrences of a string with another string value.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`str.replaceAll(\"-\", \" \"); // Red Green Blue\n`)),mdx(\"h1\",null,\"3. Numeric Separator\"),mdx(\"p\",null,\"You can use an underscore \",mdx(\"inlineCode\",{parentName:\"p\"},\"_\"),\" as a numeric separator, which makes it easy to count the number of zeros in a number.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`// difficult to read\nconst billion = 1000000000; // easier to read\nconst readableBillion = 1000_000_000;\nconsole.log(readableBillion); // returns 1000000000\n`)),mdx(\"p\",null,\"The underscore separator can also be used with BigInt numbers, like the following example:\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const trillion = 1000_000_000_000n;\nconsole.log(trillion); // 1000000000000\n`)),mdx(\"h1\",null,\"4. document.designMode\"),mdx(\"p\",null,\"Related to the frontend JavaScript, the design mode lets you edit any of the content on the page. Just open the browser console and type the following:\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`document.designMode = \"on\";\n`)),mdx(\"p\",null,\"Try yourself\"),mdx(\"p\",null,\"It is helpful for designers as they don\\u2019t have to change things in code every time to the change on the screen.\"),mdx(\"h1\",null,\"5. Logical Assignment Operator\"),mdx(\"p\",null,\"Logical assignment operators are a combination of logical operators \",mdx(\"inlineCode\",{parentName:\"p\"},\"&&\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"||\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"??\"),\" and assignment operator \",mdx(\"inlineCode\",{parentName:\"p\"},\"=\"),\".\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const a = 1;\nconst b = 2;\na &&= b;\nconsole.log(a); // returns 2\n// the above statement is equivalent to\na && (a = b); // OR another approach\nif (a) {\n  a = b;\n}\n`)),mdx(\"p\",null,\"We\\u2019re checking if the value of \",mdx(\"inlineCode\",{parentName:\"p\"},\"a\"),\" is truthy, if it is then we\\u2019re updating the value of \",mdx(\"inlineCode\",{parentName:\"p\"},\"a\"),\". The same can be done with logical OR \",mdx(\"inlineCode\",{parentName:\"p\"},\"||\"),\" operator.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const a = null;\nconst b = 3;\na ||= b;\nconsole.log(a); // returns 3\n// the above statement is equivalent to\na || (a = b);\n`)),mdx(\"p\",null,\"And with the Nullish Coalescing operator \",mdx(\"inlineCode\",{parentName:\"p\"},\"??\"),\".\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-js\"}),`const a = null;\nconst b = 3;\na ??= b;\nconsole.log(a); // returns 3\n// the above statement is equivalent to\nif (a === null || a === undefined) {\n  a = b;\n}\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"??\"),\" operator only checks for \",mdx(\"inlineCode\",{parentName:\"p\"},\"null\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"undefined\"),\" values.\"),mdx(\"h1\",null,\"Conclusion\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},\" Don\\u2019t forget to clap \\u{1F44F} in the comment section below if you learned something new\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true}